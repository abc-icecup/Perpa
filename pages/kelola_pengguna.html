<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kelola Pengguna</title>

  <!-- ğŸ”¹ Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- ğŸ”¹ File CSS Eksternal -->
  <link rel="stylesheet" href="../css/kelola_pengguna.css">
</head>

<body class="bg-gray-50 font-sans">

  <!-- ğŸ”¹ Header -->
  <header class="fixed top-0 left-0 right-0 bg-white shadow z-50 flex items-center justify-between px-6 py-2">
    <div class="flex items-center gap-3">
      <button id="menu-btn" class="p-2 rounded-md hover:bg-gray-100 focus:outline-none">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-gray-700" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
      <div class="flex items-center gap-2">
        <div class="w-8 h-8 bg-primary rounded-full flex items-center justify-center text-white font-bold">P</div>
        <div>
          <h1 class="font-semibold text-lg text-primary">Perpa</h1>
          <p class="text-xs text-gray-500 -mt-1">Smart Lock</p>
        </div>
      </div>
    </div>

    <div class="flex items-center space-x-4">
      <div class="w-6 h-6 text-gray-700 cursor-pointer">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405M19 13v-1a8 8 0 10-16 0v1m12 4v1a3 3 0 11-6 0v-1" />
        </svg>
      </div>
      <div class="w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center text-gray-700 cursor-pointer">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.121 17.804A9 9 0 1112 21v-9" />
        </svg>
      </div>
    </div>
  </header>

  <!-- ğŸ”¹ Sidebar -->
  <aside id="sidebar" class="fixed top-0 left-0 h-full w-64 bg-white shadow-md transform -translate-x-full md:translate-x-0 transition-all duration-300 z-30 pt-16">
    <nav class="mt-6 space-y-3">
      <a href="#" class="flex items-center px-6 py-1 text-gray-700 hover:bg-gray-100 transition">ğŸ  Dashboard</a>
      <a href="#" class="flex items-center px-6 py-1 text-gray-700 hover:bg-gray-100 transition">ğŸ•“ Riwayat Akses</a>
      <a href="#" class="flex items-center px-6 py-1 bg-gray-100 text-primary font-semibold border-l-4 border-primary">ğŸ‘¤ Kelola Pengguna</a>
      <a href="#" class="flex items-center px-6 py-1 text-gray-700 hover:bg-gray-100 transition">âš™ï¸ Pengaturan</a>
    </nav>
  </aside>

  <div id="overlay" class="fixed inset-0 bg-black bg-opacity-30 hidden z-30"></div>

  <!-- ğŸ”¹ Kontainer Utama -->
  <main class="p-6 mt-16 ml-0 md:ml-64">
    <div class="flex justify-end mb-2">
      <button id="openModalBtn" class="bg-gray-300 text-sm px-4 py-2 rounded-lg hover:bg-gray-400">+ Tambah Pengguna</button>
    </div>

    <div class="border rounded-xl shadow-sm p-4 w-full bg-white">
      <h2 class="text-lg font-semibold mb-2">Kelola Pengguna Akses Pintu Rumah Aman</h2>
      <table id="tabelPengguna" class="w-full border-collapse text-sm">
        <thead>
          <tr class="border-b bg-gray-50 text-gray-700">
            <th class="py-2 px-3 text-left w-[20%]">Nama</th>
            <th class="py-2 px-3 text-left w-[30%]">Jabatan</th>
            <th class="py-2 px-3 text-left w-[20%]">ID RFID</th>
            <th class="py-2 px-3 text-left w-[15%]">Status</th>
            <th class="py-2 px-3 text-left w-[15%]">Aksi</th>
          </tr>
        </thead>
        <tbody id="tableBody" class="align-middle text-gray-800"></tbody>
      </table>
    </div>
  </main>

  <!-- ğŸ”¹ MODAL TAMBAH PENGGUNA -->
  <div id="modalTambah" class="fixed inset-0 bg-black bg-opacity-40 hidden z-[9999] flex items-center justify-center">
    <div class="relative bg-white rounded-xl shadow-lg w-80 h-auto p-6 pb-8 overflow-visible">

      <button id="closeModalBtn"
        class="absolute top-3 left-3 bg-black text-white w-7 h-7 rounded-full flex items-center justify-center text-base font-bold hover:bg-gray-800 focus:outline-none transition-all duration-200 shadow-sm">
        &times;
      </button>

      <h3 class="text-lg font-semibold mb-4 text-black text-center mt-6">Tambah Pengguna</h3>

      <form id="formTambah">
        <div class="mb-3">
          <label class="block text-sm font-medium text-black mb-1">Nama</label>
          <input id="namaInput" type="text" class="input-field" placeholder="Masukkan nama anda">
        </div>

        <div class="mb-3">
          <label class="block text-sm font-medium text-black mb-1">Jabatan</label>
          <input id="jabatanInput" type="text" class="input-field" placeholder="Jabatan anda di dinas PPPA">
        </div>

        <div class="mb-6">
          <label class="block text-sm font-medium text-black mb-1">ID RFID</label>
          <input id="rfidInput" type="text" class="input-field" placeholder="Masukkan no ID RFID">
        </div>

        <div class="flex justify-center gap-4 mt-6">
          <button type="button" id="closeModalBtn2" class="px-4 py-1 rounded-lg border text-gray-700 hover:bg-gray-100">Batal</button>
          <button type="submit" class="bg-primary text-white px-4 py-1 rounded-lg hover:bg-teal-600">Simpan</button>
        </div>
      </form>
    </div>
  </div>

  <!-- ğŸ”¹ Script -->
  <script type="module" src="../api/firebase_config.js"></script>
  <script type="module" src="../js/pengguna.js"></script>
</body>
</html>
